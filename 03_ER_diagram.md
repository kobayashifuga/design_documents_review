ER図1

#全体
- ActiveRecordでデフォルトで作られる登録日、更新日がないので作成をお願いします。

＃配送先テーブル
- 存在しないため。作成をお願いします。

＃商品テーブル
- 曲は複数になる可能性があるのでテーブルにしてください。なので、曲カラムの削除をお願いします。
- 商品の発売日が考慮されていないので作成をお願いします。
- アーティスト名、レーベル名、ジャンル名はそれぞれカラムを持たせるのは良いとは言えません。テーブルとして管理しましょう。
  - [check]概ねOKですが、「何故カラムを持たせるのがよくないのか」についても、合わせて説明しましょう。
- 論理削除が考慮されていません。物理削除(レコードごと削除)された場合、購入履歴が見れなくなるなど弊害が起きます。
  - [check]ポイントとしてはOKですが、受講生は「論理削除って何？」と疑問に思う可能性があります。まずは論理削除という言葉を使わずに、どのような状態が適切か説明してみましょう。
- ステータス(取り扱い)は、具体的に何のステータスを表しているか不明確です。取扱いステータスなどわかりやすくしましょう。
- 在庫数をカラムで扱うのはNGです。入荷と購入時が同時の時エラーが起きるため、入荷テーブルを作成しましょう。

＃ディスクテーブル
- 存在しないので作成をお願いします。

＃曲テーブル
- 存在しないので作成をお願いします。

＃アーティストテーブル
- 存在しないので作成をお願いします。

＃カートテーブル
- 顧客のＩＤがないので作成をお願いします。
- カート内商品テーブルがカートテーブルとなっているので修正をお願いします。
- PKが「注文ID」となっており、カラム名と乖離しています。
- 商品idをFKとして持っているので、アーティスト名、ジャケット画像、シングル・アルバム名などは商品テーブルから引用できるのでこれらのカラムは必要がありません。
- 合計金額は不要です。for文などで他のカラム等の情報から計算可能であるためです

＃決済テーブル
- 住所カラムを郵便番号と住所でわけないと一つの情報とみなされるため分けないといけません。
  - [check]そもそも「郵便番号カラムが必要でない」と認識している可能性がありそうですので、説明の仕方を工夫してみましょう。
- 送料カラムがないので作成をお願いします。
  - [check]何故必要なのかも合わせて記載しましょう。
- 決済というテーブル名は適切でしょうか。支払い方法だけでなく、住所等の情報を含んでいるので、「注文」「受注」などが適切かと思います。
- 購入日カラムは、ActiveRecordで代替できるので必要ありません。
  - [check]ActiveRecordとは、Railsからデータベースを操作するときの「機能の名前」となります。具体的に「どのカラムで代替できるか」を書きましょう。
- FKとしてカートidを持たせる必要はありません。

＃受注詳細テーブル
- 存在しない。また、購入履歴テーブルがこのテーブルと同じ意図を持つならば「購入ステータス」がこのテーブルにあるのはNGです。個々にステータスを保存していくためカートテーブルにお願いします。
  - [check]ですます調に統一しましょう。
-　アイテムの情報を持っているテーブルが子にないのでアイテムの情報を引き出せません。なので決済テーブルにアイテムの情報を持たせましょう。

＃入荷テーブル
- 存在しないので作成をお願いします。

## エンドユーザーテーブル(add)
- 論理削除が考慮されていません。

## 管理者テーブル(add)
- エンドユーザーテーブル、および商品テーブルとリレーションがありますが、エンドユーザと商品において管理者の情報を引き出すことはないので必要ありません。

ER図2
＃エンドユーザ
- 名がない
  - [check]ですます調に統一しましょう。

＃配送先テーブル
- 存在しない
  - [check]ですます調に統一しましょう。

＃購入テーブル
- 注文テーブルなど管理者からもわかりやすいテーブルに名前を変えましょう。
- 購入日カラムとactive recordがかぶるため削除をお願いします。
  - [check]ActiveRecordではなく、どのカラムとかぶるか、カラム名を記載しましょう。
- 配送ステータスがないので作成をお願いします。
- 配送先の氏名を購入ごとに保存できません。

＃入荷テーブル
- 存在しないので作成をお願いします。

管理者と他テーブルでアソシエーションがあるので削除をお願いします。
- [check]どのテーブルのことを言っているのか、見出しをつけましょう。



## 商品テーブル
- ディスクテーブルとのリレーションが逆ので変更をお願いします。
- 発売日の記載がないので作成をお願いします。
- 在庫数カラムが存在する(入荷と購入時が同時の時エラーが起きるため)ので変更をお願いします。

## ディスクテーブル
- 曲テーブルとのリレーションが逆ので変更をお願いします。
  - [check]「逆なので」。誤字に注意しましょう。
- トラックNoカラムがあるが、これはディスク内の曲順を表す番号なので、曲テーブルにお願いします
  - [check]細かいようですが、ですます調に統一しましょう。

## ジャンル・レーベルテーブル
- ジャンル・レーベルというカラム名は、「ジャンル名」「レーベル名」とするのが適切。属性とエンティティが同名だと、それぞれの切り分けができません。
  - [check]細かいようですが、ですます調に統一しましょう。

## カートアイテムテーブル
- PKが存在しないので作成をお願いします。
- 小計カラムが存在するが、商品の価格と枚数から計算可能なので削除をお願いします。
  - [check]細かいようですが、ですます調に統一しましょう。

## 購入詳細テーブル
- 命名を「受注詳細」「注文詳細」とする必要がある。(管理者側からわかりづらいため)
- 商品IDをFKとして持っていないため、どの商品を買ったのか判断できないため持たせましょう。
- 購入テーブルとのリレーションが逆なので変更をお願いします。

## エンドユーザーテーブル
- PKがユーザーIDになっているので変更をお願いします。
